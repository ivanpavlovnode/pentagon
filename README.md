# Pentagon - –ø–∞—Ä–æ–¥–∏–π–Ω—ã–π –ø–æ—Ä—Ç–∞–ª (React/Express)
[üåê–°—Å—ã–ª–∫–∞ –Ω–∞ —Ä–∞–±–æ—á–∏–π –ø—Ä–æ–µ–∫—Ç](https://ivanpavlov.site)
### –î–∞–Ω–Ω—ã–µ –≥–æ—Å—Ç–µ–≤–æ–π —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ (–≤–≤–æ–¥–∏—Ç—å —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–∞!): 
```userData
id: 12 
password: 0000
```

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- –ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —Å –ø–æ–∏—Å–∫–æ–º —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–æ–≤ –ø–æ –∏–º–µ–Ω–∏, –∏—Å—Ç–æ—Ä–∏–µ–π —Å–æ–æ–±—â–µ–Ω–∏–π
- –î–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–º–µ–Ω–Ω–∏–∫ —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º —Ñ–∞–π–ª–∞, —Å–æ–∑–¥–∞–Ω–∏–µ–º –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.
- –î–æ–∫—É–º–µ–Ω—Ç—ã –º–æ–≥—É—Ç –∏–º–µ—Ç—å —É—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞, –º–æ–≥—É—Ç –±—ã—Ç—å –∞–¥—Ä–µ—Å–æ–≤–∞–Ω—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –ø–æ–ª—É—á–∞—Ç–µ–ª—é, –º–æ–≥—É—Ç –±—ã—Ç—å –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–º–∏. 

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç—ç–∫
- **Frontend:** React 19.1, styled-components(used in Documents.js)
- **Backend:** Express 5.1.0, supabase-js
- **–î–µ–ø–ª–æ–π:** VPS Ubuntu 24, Nginx

## –û—Å–≤–æ–µ–Ω–Ω—ã–µ –Ω–∞–≤—ã–∫–∏
1. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ JWT –≤ sessionStorage
1. –†–µ–∞–ª–∏–∑–æ–≤–∞–ª WebSocket-–ø—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
2. –û—Å–≤–æ–∏–ª React-—Ö—É–∫–∏: useState, useRef, useMemo, useEffect
3. –ü—Ä–∏–º–µ–Ω–∏–ª Context API –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ —Ñ—É–Ω–∫—Ü–∏–π –≤ –¥–æ—á–µ—Ä–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
4. –ü—Ä–∏–º–µ–Ω–∏–ª styled-components –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Ç–∏–ª–µ–π –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ
5. –û—Å–≤–æ–∏–ª —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ —É—Å–ª–æ–≤–∏—è if –∏ &&, —Ç–∞–∫–∂–µ —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ .map
6. –ù–∞—É—á–∏–ª—Å—è —Ä–∞–±–æ—Ç–∞—Ç—å c –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π supabase-js

## –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫
### –í–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö supabase (–≤ –º–æ–µ–º –≤–∞—Ä–∏–∞–Ω—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è nano), –≤ –Ω–µ–π –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã.
SQL-–∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü —Å –Ω—É–∂–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –≤ scheme"public"
```sql
CREATE TABLE public.Documents (
  id bigint GENERATED ALWAYS AS IDENTITY NOT NULL,
  creator integer NOT NULL,
  recipient integer,
  access_level smallint,
  docdata json NOT NULL,
  delivered boolean DEFAULT false,
  disposable boolean DEFAULT false,
  date timestamp without time zone,
  version integer NOT NULL DEFAULT 0,
  file_extension text,
  CONSTRAINT Documents_pkey PRIMARY KEY (id)
);
CREATE TABLE public.Messenger (
  id bigint GENERATED ALWAYS AS IDENTITY NOT NULL,
  sender integer NOT NULL,
  getter integer,
  text text,
  delivered boolean NOT NULL DEFAULT false,
  CONSTRAINT Messenger_pkey PRIMARY KEY (id)
);
CREATE TABLE public.Staff (
  id integer GENERATED ALWAYS AS IDENTITY NOT NULL,
  full_name text NOT NULL DEFAULT 'FULL NAME'::text,
  call_name text,
  rank text NOT NULL DEFAULT 'PVT'::text,
  div text NOT NULL DEFAULT '315P'::text,
  status text NOT NULL DEFAULT 'ACTIVE'::text,
  access_level smallint NOT NULL DEFAULT '1'::smallint,
  password text NOT NULL DEFAULT '1111'::text,
  service_record text NOT NULL DEFAULT 'No record'::text,
  CONSTRAINT Staff_pkey PRIMARY KEY (id)
);
```
–¢–∞–∫–∂–µ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –¥–≤–µ –∫–æ—Ä–∑–∏–Ω—ã –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å –∏–º–µ–Ω–∞–º–∏ "avatars" –∏ "documents". –í —Ç–∞–±–ª–∏—Ü–µ Staff —Å–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ—é —É—á–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å —Å –ø–∞—Ä–æ–ª–µ–º. 
# –ó–∞—Ç–µ–º –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª –≤ /backend, –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∏–∂–µ.
### –ù–µ –∑–∞–±—É–¥—å—Ç–µ –≤–ø–∏—Å–∞—Ç—å —Å–≤–æ–∏ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è URL, API –∫–ª—é—á–µ–π –∏ JWT —Å–µ–∫—Ä–µ—Ç–∞.
```env
SUPABASE_URL=your.supabase.url
SUPABASE_ANON_KEY=yourAnonKeyFromSupabase
SUPABASE_SERVICE_ROLE_KEY=yourServiceKeyFromSupabase
JWT_SECRET=yourKeyEnterWhatYouWantItMustBeStrong
PORT=5000
NODE_ENV=production
```

–ö–æ–≥–¥–∞ –≤—Å–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ, –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å:
```bash
git clone https://github.com/bickdick0/pentagon
cd pentagon/backend
npm install
cd client
npm install
cd ../
npm run build-client
npm start
```
–ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å SPA –æ—Ç –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –≤ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ –±—Ä–∞—É–∑–µ—Ä–∞ –≤–≤–µ–¥–∏—Ç–µ localhost:5000
